import Input from "./Input";
import React, {useCallback, useState} from "react";

const InputPassword = ({name, inputRef, defaultValue}) => {

    const [type, setType] = useState("password");

    const Icon = () => {
        let path;
        if (type === "password") {
            path =
                <path d="M10,4.4C3.439,4.4,0,9.232,0,10c0,0.766,3.439,5.6,10,5.6c6.56,0,10-4.834,10-5.6C20,9.232,16.56,4.4,10,4.4
                    z M10,14.307c-2.455,0-4.445-1.928-4.445-4.307S7.545,5.691,10,5.691s4.444,1.93,4.444,4.309S12.455,14.307,10,14.307z M10,10
                    c-0.407-0.447,0.663-2.154,0-2.154c-1.228,0-2.223,0.965-2.223,2.154S8.772,12.154,10,12.154c1.227,0,2.223-0.965,2.223-2.154
                    C12.223,9.453,10.346,10.379,10,10z"/>

        } else {
            path =
                <path d="M18.5214844,1.4776001C18.131958,1.086853,17.4981079,1.086792,17.1074829,1.477478L1.4785156,17.1084595
                    c-0.390625,0.390625-0.390625,1.0244141,0.0001221,1.4140015c0.390625,0.390686,1.0233765,0.390625,1.4140015-0.000061
                    L18.5214233,2.8916016C18.9121704,2.5009766,18.9121704,1.8682251,18.5214844,1.4776001z M3.1083984,13.4973145l2.5593262-2.5584717
                    C5.5981445,10.6357422,5.5546875,10.3234863,5.5546875,10c0-2.3789062,1.9902344-4.3085938,4.4453125-4.3085938
                    c0.2861328,0,0.5644531,0.0314941,0.8354492,0.081665l1.2021484-1.2016602C11.394043,4.467041,10.7192383,4.4003906,10,4.4003906
                    C3.4394531,4.4003906,0,9.2324219,0,10C0,10.4234619,1.057373,12.0908203,3.1083984,13.4973145z M16.8950195,6.5046387
                    L14.3330078,9.065918C14.4018555,9.3674316,14.4443359,9.6784668,14.4443359,10
                    c0,2.3789062-1.9892578,4.3066406-4.4443359,4.3066406c-0.2839355,0-0.5598145-0.0317383-0.8288574-0.0810547L7.967041,15.4291992
                    C8.609375,15.5330811,9.2827148,15.5996094,10,15.5996094c6.5605469,0,10-4.8339844,10-5.5996094
                    C20,9.5756836,18.9438477,7.9101562,16.8950195,6.5046387z"/>
        }

        return (
            <svg className="fill-current h-4 w-4"
                 xmlns="http://www.w3.org/2000/svg"
                 viewBox="0 0 20 20">
                {path}
            </svg>
        )

    }

    return (
        <div className="relative">
            <Input type={type} name={name} defaultValue={defaultValue} inputRef={inputRef} placeholder="*************"/>
            <div
                className="accentuated cursor-pointer bg-gray-light absolute inset-y-0 right-0 flex items-center px-2 text-black"
                onClick={() => setType(type === "password" ? "text" : "password")}
            >
                <Icon/>
            </div>
        </div>
    )
}
export default InputPassword;